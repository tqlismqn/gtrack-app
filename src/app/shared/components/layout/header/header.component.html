<header class="header" [class.sidebar-collapsed]="sidebarCollapsed">
  <div class="header-left">
    <div class="header-breadcrumb">
      <span class="company-name">{{ companyName }}</span>
      <mat-icon class="breadcrumb-separator">chevron_right</mat-icon>
      <span class="module-name">{{ currentModule }}</span>
    </div>
  </div>

  <span class="spacer"></span>

  <div class="topbar-actions">
    <button
      mat-icon-button
      class="icon-btn"
      [matBadge]="notificationCount"
      matBadgeSize="small"
      matBadgeColor="primary"
      [matMenuTriggerFor]="notifMenu"
      aria-label="Open notifications"
    >
      <mat-icon>notifications</mat-icon>
    </button>

    <button
      mat-icon-button
      class="avatar-btn"
      [matMenuTriggerFor]="userMenu"
      aria-label="Open user menu"
    >
      <div class="avatar">TG</div>
    </button>
  </div>
</header>

<mat-menu #userMenu="matMenu" xPosition="before" yPosition="below">
  <div class="user-menu">
    <div class="user-title">Thomas G.</div>
    <div class="user-sub">Administrator</div>
  </div>
  <button mat-menu-item routerLink="/settings">
    <mat-icon>settings</mat-icon>
    <span>Settings</span>
  </button>
  <button mat-menu-item (click)="logout()">
    <mat-icon>logout</mat-icon>
    <span>Logout</span>
  </button>
</mat-menu>

<mat-menu #notifMenu="matMenu" class="notif-menu" xPosition="before" yPosition="below">
  <div class="notif-head">
    <span>Notifications</span>
    <button mat-button (click)="markAllRead()">Mark all as read</button>
  </div>
  <mat-divider></mat-divider>
  <div class="notif-item info" *ngIf="notificationCount > 0">
    <mat-icon>info</mat-icon>
    <div>
      <div class="tit">New driver document expiring soon</div>
      <div class="sub">2 hours ago</div>
    </div>
  </div>
  <div class="notif-item warn" *ngIf="notificationCount > 1">
    <mat-icon>report_problem</mat-icon>
    <div>
      <div class="tit">Vehicle maintenance required</div>
      <div class="sub">5 hours ago</div>
    </div>
  </div>
  <div class="notif-item empty" *ngIf="notificationCount === 0">
    <mat-icon>notifications_off</mat-icon>
    <div>
      <div class="tit">All caught up</div>
      <div class="sub">No unread notifications</div>
    </div>
  </div>
</mat-menu>
