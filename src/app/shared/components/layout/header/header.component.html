<header class="header" [class.sidebar-collapsed]="sidebarCollapsed">
  <div class="header-left">
    <div class="header-breadcrumb">
      <span class="company-name">{{ companyName }}</span>
      <mat-icon class="breadcrumb-separator">chevron_right</mat-icon>
      <span class="module-name">{{ currentModule }}</span>
    </div>
  </div>

  <div class="header-right">
    <div class="search-container" [class.expanded]="searchVisible">
      <button mat-icon-button class="search-toggle" (click)="toggleSearch()">
        <mat-icon>search</mat-icon>
      </button>
      <input
        *ngIf="searchVisible"
        type="text"
        class="search-input"
        placeholder="Search..."
        (input)="onSearch($event)"
        autofocus
      />
    </div>

    <button
      mat-icon-button
      class="header-action notification-button"
      [matMenuTriggerFor]="notificationMenu"
    >
      <mat-icon>notifications</mat-icon>
      <span class="notification-badge" *ngIf="notificationCount > 0">
        {{ notificationCount }}
      </span>
    </button>

    <button
      mat-icon-button
      [matMenuTriggerFor]="userMenu"
      class="header-action user-profile-button"
    >
      <div class="user-avatar">TG</div>
    </button>
  </div>
</header>

<mat-menu #notificationMenu="matMenu" class="notification-menu">
  <div class="notification-header">
    <h3>Notifications</h3>
    <button mat-button color="primary">Mark all as read</button>
  </div>
  <mat-divider></mat-divider>
  <div class="notification-list">
    <div class="notification-item" *ngFor="let notification of notifications">
      <mat-icon>{{ notification.icon }}</mat-icon>
      <div class="notification-content">
        <p class="notification-title">{{ notification.title }}</p>
        <p class="notification-time">{{ notification.time }}</p>
      </div>
    </div>
    <div class="notification-empty" *ngIf="notifications.length === 0">
      <p>No notifications</p>
    </div>
  </div>
</mat-menu>

<mat-menu #userMenu="matMenu" class="user-menu">
  <div class="user-info">
    <div class="user-avatar-large">TG</div>
    <div class="user-details">
      <p class="user-name">Thomas G.</p>
      <p class="user-role">Administrator</p>
    </div>
  </div>
  <mat-divider></mat-divider>
  <button mat-menu-item routerLink="/settings">
    <mat-icon>settings</mat-icon>
    <span>Settings</span>
  </button>
  <button mat-menu-item (click)="logout()">
    <mat-icon>logout</mat-icon>
    <span>Logout</span>
  </button>
</mat-menu>
